# ğŸ¥ AIåŒ»ç–—è´¨æ§ç³»ç»Ÿ - æ‰‹åŠ¨æ“ä½œæŒ‡å—

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

AIåŒ»ç–—è´¨æ§ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºSpring Bootåç«¯ + Vueå‰ç«¯çš„æ™ºèƒ½ç—…å†è¯„åˆ†ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- ğŸ¤– AIæ™ºèƒ½è¯„åˆ†ç”Ÿæˆ
- ğŸ“Š å¤šç»´åº¦è¯„åˆ†æŠ¥å‘Š
- ğŸ‘¨â€âš•ï¸ ä¸“å®¶ç‚¹è¯„åŠŸèƒ½
- ğŸ“± ç°ä»£åŒ–Webç•Œé¢

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
./start.bat          # Windowsç¯å¢ƒ
# æˆ–
./start.sh           # Linux/Macç¯å¢ƒ
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¯åŠ¨
```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd D:\AI_Bailun\test

# 2. ä½¿ç”¨Mavenå¯åŠ¨
mvn spring-boot:run

# 3. æˆ–è€…ä½¿ç”¨å·²ç¼–è¯‘çš„JARåŒ…
java -jar target/ai-medical-score-1.0.0-SNAPSHOT.jar
```

#### éªŒè¯åç«¯å¯åŠ¨
```bash
# æ£€æŸ¥å¥åº·çŠ¶æ€
curl http://localhost:8080/actuator/health

# é¢„æœŸè¿”å›
{"status":"UP","components":{"db":{"status":"UP"},...}}
```

### ç¬¬äºŒæ­¥ï¼šéªŒè¯æ•°æ®åº“è¿æ¥

ç³»ç»Ÿå¯åŠ¨åä¼šè‡ªåŠ¨è¿æ¥MySQLæ•°æ®åº“å¹¶åˆ›å»ºå¿…è¦çš„è¡¨ç»“æ„ã€‚

---

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½æ“ä½œæŒ‡å—

### ğŸ¤– AIè¯„åˆ†ç”Ÿæˆ

#### æ‰‹åŠ¨APIæµ‹è¯•
```bash
# ä½¿ç”¨PowerShellæµ‹è¯•
powershell -ExecutionPolicy Bypass -File test-generate-score.ps1

# æˆ–ä½¿ç”¨curl
curl -X POST http://localhost:8080/admin-api/business/ai-score/generate \
     -H "Content-Type: application/json" \
     -d '{"patientId": 3835}'
```

#### é¢„æœŸå“åº”
```json
{
  "code": 0,
  "data": {
    "id": 14,
    "patientId": 3835,
    "status": "completed"
  },
  "msg": "æ“ä½œæˆåŠŸ"
}
```

### ğŸ“‹ æŸ¥çœ‹è¯„åˆ†æŠ¥å‘Š

#### APIæµ‹è¯•
```bash
# ä½¿ç”¨PowerShellè„šæœ¬
powershell -ExecutionPolicy Bypass -File test-view-report.ps1

# æˆ–ä½¿ç”¨curl
curl http://localhost:8080/admin-api/business/ai-score/report/3835
```

#### æŠ¥å‘Šå†…å®¹åŒ…å«
- âœ… æ‚£è€…åŸºæœ¬ä¿¡æ¯
- ğŸ“Š æ€»åˆ†åŠç­‰çº§è¯„å®š
- ğŸ“ˆ 8ç»´åº¦è¯¦ç»†è¯„åˆ†
- ğŸ’¡ AIå»ºè®®å’Œæ”¹è¿›ç‚¹
- ğŸ• è¯„åˆ†æ—¶é—´æˆ³

### ğŸ‘¨â€âš•ï¸ ä¸“å®¶ç‚¹è¯„åŠŸèƒ½

#### æ·»åŠ /ç¼–è¾‘ç‚¹è¯„
```bash
# ä½¿ç”¨PowerShellè„šæœ¬
powershell -ExecutionPolicy Bypass -File test-expert-comment.ps1

# æˆ–ä½¿ç”¨curl
curl -X POST http://localhost:8080/admin-api/business/ai-score/expert-comment \
     -H "Content-Type: application/json" \
     -d '{
       "patientId": 3835,
       "expertComment": "è¿™æ˜¯ä¸“å®¶ç‚¹è¯„å†…å®¹..."
     }'
```

---

## ğŸŒ å‰ç«¯ç•Œé¢æ“ä½œ

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ¼”ç¤ºé¡µé¢
```bash
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
file:///D:/AI_Bailun/test/demo-frontend.html
```

### æ–¹æ³•äºŒï¼šé›†æˆåˆ°ç°æœ‰Vueé¡¹ç›®

#### 1. å®‰è£…ä¾èµ–ç»„ä»¶
å°†ä»¥ä¸‹ç»„ä»¶å¤åˆ¶åˆ°Vueé¡¹ç›®ä¸­ï¼š
- `src/components/AiScore/AiScoreButton.vue`
- `src/components/AiScore/AiScoreDialog.vue`
- `src/components/AiScore/ScoreReportCard.vue`
- `src/api/aiScore.js`

#### 2. åœ¨é¡µé¢ä¸­ä½¿ç”¨
```vue
<template>
  <div>
    <!-- æ‚£è€…ä¿¡æ¯å±•ç¤º -->
    <el-card>
      <h3>æ‚£è€…ï¼š{{ patientInfo.name }}</h3>
      <!-- AIè¯„åˆ†æŒ‰é’® -->
      <ai-score-button 
        :patient-id="patientInfo.id"
        @score-generated="handleScoreGenerated"
      />
    </el-card>
    
    <!-- AIè¯„åˆ†æŠ¥å‘Šå¼¹çª— -->
    <ai-score-dialog
      :visible.sync="scoreDialogVisible"
      :patient-id="currentPatientId"
    />
  </div>
</template>

<script>
import AiScoreButton from '@/components/AiScore/AiScoreButton'
import AiScoreDialog from '@/components/AiScore/AiScoreDialog'

export default {
  components: {
    AiScoreButton,
    AiScoreDialog
  },
  data() {
    return {
      scoreDialogVisible: false,
      currentPatientId: null,
      patientInfo: {
        id: 3835,
        name: 'èƒ¡å®‰ç§€'
      }
    }
  },
  methods: {
    handleScoreGenerated() {
      this.$message.success('AIè¯„åˆ†ç”ŸæˆæˆåŠŸï¼')
      this.scoreDialogVisible = true
      this.currentPatientId = this.patientInfo.id
    }
  }
}
</script>
```

---

## ğŸ§ª å®Œæ•´æµ‹è¯•æµç¨‹

### æ­¥éª¤1ï¼šéªŒè¯ç³»ç»ŸçŠ¶æ€
```bash
# 1. æ£€æŸ¥åç«¯æœåŠ¡
curl http://localhost:8080/actuator/health

# 2. æ£€æŸ¥æ•°æ®åº“è¿æ¥
# è¿”å›çŠ¶æ€åº”ä¸º "UP"
```

### æ­¥éª¤2ï¼šæµ‹è¯•å®Œæ•´å·¥ä½œæµ
```bash
# 1. ç”ŸæˆAIè¯„åˆ†
powershell -ExecutionPolicy Bypass -File test-generate-score.ps1

# 2. æŸ¥çœ‹è¯„åˆ†æŠ¥å‘Š
powershell -ExecutionPolicy Bypass -File test-view-report.ps1

# 3. æ·»åŠ ä¸“å®¶ç‚¹è¯„
powershell -ExecutionPolicy Bypass -File test-expert-comment.ps1

# 4. å†æ¬¡æŸ¥çœ‹æŠ¥å‘ŠéªŒè¯ç‚¹è¯„
powershell -ExecutionPolicy Bypass -File test-view-report.ps1
```

### æ­¥éª¤3ï¼šå‰ç«¯ç•Œé¢æµ‹è¯•
1. æ‰“å¼€æ¼”ç¤ºé¡µé¢ï¼š`demo-frontend.html`
2. ä¿®æ”¹æ‚£è€…IDï¼ˆé»˜è®¤3835ï¼‰
3. ç‚¹å‡»"ç”ŸæˆAIè¯„åˆ†"æŒ‰é’®
4. æŸ¥çœ‹è¯„åˆ†ç»“æœå’Œè¯¦ç»†æŠ¥å‘Š
5. æ·»åŠ æˆ–ç¼–è¾‘ä¸“å®¶ç‚¹è¯„
6. éªŒè¯æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šåç«¯å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥Javaç‰ˆæœ¬ï¼ˆéœ€è¦17+ï¼‰
java -version

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr 8080

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
tail -f logs/spring.log
```

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
mysqladmin -u root -p status

# éªŒè¯æ•°æ®åº“é…ç½®
cat src/main/resources/application.yml
```

### é—®é¢˜3ï¼šAPIè°ƒç”¨å¤±è´¥
```bash
# æ£€æŸ¥CORSé…ç½®
# ç¡®ä¿WebClientConfig.javaå·²æ­£ç¡®é…ç½®

# æ£€æŸ¥APIè·¯å¾„
curl -v http://localhost:8080/admin-api/business/ai-score/health
```

### é—®é¢˜4ï¼šå‰ç«¯ç»„ä»¶é›†æˆé—®é¢˜
- ç¡®ä¿Element UIç‰ˆæœ¬å…¼å®¹ï¼ˆæ¨è2.15.12ï¼‰
- æ£€æŸ¥Vuex storeä¸­çš„ç”¨æˆ·æƒé™é…ç½®
- éªŒè¯axiosè¯·æ±‚æ‹¦æˆªå™¨é…ç½®

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### åç«¯ä¼˜åŒ–
- å¯ç”¨Spring Bootåº”ç”¨ç¼“å­˜
- é…ç½®è¿æ¥æ± å‚æ•°
- ä¼˜åŒ–AIæ¥å£è°ƒç”¨é¢‘ç‡

### å‰ç«¯ä¼˜åŒ–
- å®ç°è¯„åˆ†ç»“æœç¼“å­˜
- æ·»åŠ éª¨æ¶å±åŠ è½½æ•ˆæœ
- ä¼˜åŒ–å¤§å‹æŠ¥å‘Šçš„åˆ†é¡µå±•ç¤º

---

## ğŸ”’ å®‰å…¨é…ç½®

### APIå®‰å…¨
- æ·»åŠ JWTè®¤è¯
- å®ç°è¯·æ±‚é¢‘ç‡é™åˆ¶
- é…ç½®HTTPSè¯ä¹¦

### æ•°æ®å®‰å…¨
- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- å®ç°å®¡è®¡æ—¥å¿—
- å®šæœŸæ•°æ®å¤‡ä»½

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š
1. ğŸ“‹ æŸ¥çœ‹æ“ä½œæ—¥å¿—æ–‡ä»¶
2. ğŸ” æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€
3. ğŸ› ï¸ éªŒè¯é…ç½®æ–‡ä»¶æ­£ç¡®æ€§
4. ğŸ“§ è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ

---

**ç‰ˆæœ¬ä¿¡æ¯**
- ç³»ç»Ÿç‰ˆæœ¬ï¼šv1.0.0
- æœ€åæ›´æ–°ï¼š2025-01-07
- æ”¯æŒçš„æµè§ˆå™¨ï¼šChrome 88+, Firefox 85+, Safari 14+ 